<!DOCTYPE html>
<html xml:lang="ca-ES" lang="ca-ES" xmlns="http://www.w3.org/1999/xhtml">
<head>

	<title></title>
		<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" />
	<link href="/css/master.min.css" rel="stylesheet" type="text/css" />
	<link href="/css/canigo.css" rel="stylesheet" type="text/css" />
	<script src="/js/jquery.min.js" type="text/javascript"></script>

	<script>
		document.write("<meta name=\"titol\" content=\"\" />");
		document.write("<meta name=\"description\" content=\"\" />");
	</script>

	

</head>
<body class="single">
	<div class="contenidor unfixed">

				

		<header class="fons_header navbar navbar-default z-index-menu">
			<div class="container" role="menu">
				<div class="row clearfix menuNav">
					<div class="col-md-3 col-xs-3 column visible-xs coloca ">
						<button type="button" onclick="amunt();" title="Menu"
							class="navbar-toggle pull-left" data-toggle="collapse"
							data-target=".navbar-collapse">
							<span class="sr-only">Toggle navigation</span> <span
								class="icon-bar"></span> <span class="icon-bar"></span> <span
								class="icon-bar"></span>
						</button>
					</div>

					<div class="col-md-3 col-xs-6 col-offset-2 column visible-xs titol-mobil">
						
						<span class="white titol-mobil-destacat">canigo.ctti</span><span class="white">.gencat.cat</span>
					</div>

					<div class="col-md-3 col-xs-3 column visible-xs coloca1">
						<button onclick="amunt();" type="button" title="Cerca"
							class="ico_cerca " data-toggle="collapse" data-target=".dos">
						</button>
					</div>

				</div>

				<div class="collapse dos">
					<div class="shadowBox">
						<form class="navbar-form navbar-left primer" action="/cercador/" method="get"
 						onsubmit="location.href=this.action+'?q='+this.cerca_cap.value; return false;">
							<div class="form-group">
								<input type="search" class="form-control" name="q" id="cerca_cap"
									title="Cerca"
									placeholder="Cerca" />
								<button type="button" title="Neteja" class="btn btn-default"></button>
								<input type="submit" class="ocult" name="Cerca" value="Cerca" />
							</div>
						</form>
					</div>
				</div>	

				<nav class="collapse navbar-collapse navbar-ex1-collapse ">
				
					<div class="row">
						<div class="col-md-6 col-sm-4 column">
							<a class="img-responsive logo" title="Generalitat de Catalunya"
								href="https://ctti.gencat.cat/">gencat.cat</a>
							<button class="menu_tancar visible-xs collapsed"
								data-target=".navbar-collapse" data-toggle="collapse"
								title="Tancar"></button>
						</div>

						<div class="col-md-6 col-sm-8 column hidden-xs hidden-mg">
							<form class="navbar-form cercador_vermell hidden-xs pull-right" action="/cercador/"  method="get" onsubmit="location.href=this.action+'?q='+this.cerca2.value; return false;">
								<div class="form-group">
									<label class="hidden" for="cerca2">Cerca</label>
									<input id="cerca2" class="form-control" type="search" 
									placeholder="Cerca" name="q" title="Cerca">
									<input class="btn btn-default" type="submit" title="Cerca" value="">
								</div>
							</form>

							

						</div>

					</div>
					<div class="col-xs-12 hidden-xs" id="nomPortal">
                    	<span class="titol-cap-nou">Centre de Telecomunicacions i Tecnologies de la Informació</span>
                    </div>					
					<ul class="nav navbar-nav">

			        	

						<li>
							<a class="dropdown-toggle" href='/' data-toggle='_dropdown'>Inici</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/arqctti' data-toggle='_dropdown'>Arquitectura CTTI</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/blog' data-toggle='_dropdown'>Blog</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/cloud' data-toggle='_dropdown'>Cloud</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/canigo' data-toggle='_dropdown'>Canigó</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/sic' data-toggle='_dropdown'>SIC</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/sgde' data-toggle='_dropdown'>SGDE</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/gicar' data-toggle='_dropdown'>GICAR</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/cs' data-toggle='_dropdown'>Centres de Suport</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/dadesref' data-toggle='_dropdown'>Gestió Tècnica de Dades</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/eventhub' data-toggle='_dropdown'>EventHub</a>
						</li>

						

					</ul>

				</nav>
			</div>
		</header>



	</div>

	<section class="border-start">

						
			

			<article class="bgGrey">
				<div class="container">
					<div class="row">
						<div class="capcelera_basica col-sm-12">
							<div class="capcelera_basica_cont">
								<ol class="breadcrumb filariana hidden-xs">
									<li>
										<a href="/">Inici</a>
									</li>
									<li class="breadcrumbs2">
									
										<a href="/drafts">
											




























										</a>
										




























































































									
									</li>

								</ol>

								<h1 class="capcelera_flotant pull-left" data-txt=".title">
									

										
											




	


										

									
								</h1>

								

								
								

								

								

							</div>
						</div>

					</div>
				</div>
			</article>

			


		   <div class="padding-xs container">
	    	
           </div>
           
			<article class="padding-xs padding-sm padding-md contingut">				
				<div class="container">
 		
					
				

	


					

						

<p>+++ date = &ldquo;2021-10-01&rdquo; title = &ldquo;Exemple de Kafka Streams&rdquo; description = &ldquo;El propòsit d&rsquo;aquest exemple és demostrar l&rsquo;escriptura i lectura d&rsquo;un tòpic de Kafka&rdquo; responsable = &ldquo;Oficina Tècnica EventHub&rdquo; sections = [&ldquo;drafts&rdquo;] blog_tags = [&ldquo;kafka&rdquo;] categories = [&ldquo;Kafka&rdquo;,&ldquo;EventHub&rdquo;] key = &ldquo;OCTUBRE2021&rdquo; +++</p>

<h1 id="kafka-streams-example">Kafka Streams Example</h1>

<ul>
<li><a href="#kafka-streams-example">Kafka Streams Example</a>

<ul>
<li><a href="#objetivo">Objetivo</a></li>
<li><a href="#requisitos">Requisitos</a></li>
<li><a href="#crear-el-proyecto">Crear el proyecto</a></li>
<li><a href="#docker-confluent-platform">Docker Confluent Platform</a></li>
<li><a href="#configurar-el-proyecto">Configurar el proyecto</a></li>
<li><a href="#esquema-avro">Esquema avro</a></li>
<li><a href="#crear-la-aplicación-kafka-streams">Crear la aplicación Kafka Streams</a></li>
<li><a href="#crear-el-productor">Crear el Productor</a></li>
<li><a href="#compilar-y-ejecutar">Compilar y ejecutar</a></li>
<li><a href="#producir-eventos-al-tópico-de-entrada">Producir eventos al tópico de entrada</a></li>
<li><a href="#comprobar-ejecución-de-la-aplicación-kafka-streams">Comprobar ejecución de la aplicación Kafka Streams</a></li>
<li><a href="#ejecución-en-entorno-securizado">Ejecución en entorno securizado</a></li>
<li><a href="#recursos-externos">Recursos externos</a></li>
</ul></li>
</ul>

<h2 id="objetivo">Objetivo</h2>

<p>El propósito de este ejemplo es demostrar la escritura y lectura de un tópico de Kafka.</p>

<p>Para ello se creará una aplicación encargada de producir mensajes al tópico, así como otra encargada de la lectura de dichos mensajes.</p>

<p>Los mensajes enviados al tópico estarán representados mediante un esquema Avro compuesto de los siguientes campos:
- number: Número del mensaje.
- message: Texto del mensaje.</p>

<p>La aplicación productora asignará a los registros enviados al tópico una clave identificativa de la aplicación.</p>

<p>Esta clave será utilizada en la lectura con el propóistro de procesar sólo los mensajes que coincidan con dicha clave.</p>

<p>La aplicación encargada del procesamiento de los mensajes filtrará los que su clave coincida con el valor definido en properties como application.id y que además el valor del campo number sea par.</p>

<h2 id="requisitos">Requisitos</h2>

<ul>
<li>Docker</li>
<li>docker-compose</li>
<li>JDK 1.8</li>
<li>Gradle</li>
</ul>

<h2 id="crear-el-proyecto">Crear el proyecto</h2>

<p>En primer lugar, crearemos el directorio raíz del proyecto:</p>

<pre><code class="language-shell">mkdir kstreams-example &amp;&amp; cd kstreams-example
</code></pre>

<h2 id="docker-confluent-platform">Docker Confluent Platform</h2>

<p>Haremos uso de Docker para ejecutar el proyecto de manera local.</p>

<p>Para ello crearemos el fichero <strong>docker-compose.yml</strong> con el siguiente contenido:</p>

<pre><code class="language-yaml">---
version: '2'

services:
  zookeeper:
    image: confluentinc/cp-zookeeper:6.1.0
    hostname: zookeeper
    container_name: zookeeper
    ports:
      - &quot;2181:2181&quot;
    environment:
      ZOOKEEPER_CLIENT_PORT: 2181
      ZOOKEEPER_TICK_TIME: 2000

  broker:
    image: confluentinc/cp-kafka:6.1.0
    hostname: broker
    container_name: broker
    depends_on:
      - zookeeper
    ports:
      - &quot;29092:29092&quot;
    environment:
      KAFKA_BROKER_ID: 1
      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper:2181'
      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT
      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:9092,PLAINTEXT_HOST://localhost:29092
      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1
      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0

  schema-registry:
    image: confluentinc/cp-schema-registry:6.1.0
    hostname: schema-registry
    container_name: schema-registry
    depends_on:
      - broker
    ports:
      - &quot;8081:8081&quot;
    environment:
      SCHEMA_REGISTRY_HOST_NAME: schema-registry
      SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: 'broker:9092'
      SCHEMA_REGISTRY_LOG4J_ROOT_LOGLEVEL: WARN
</code></pre>

<h2 id="configurar-el-proyecto">Configurar el proyecto</h2>

<p>Crearemos el fichero de construcción de Gradle <strong>build.gradle</strong>:</p>

<pre><code class="language-groovy">buildscript {
  repositories {
    mavenCentral()
  }
  dependencies {
    classpath &quot;com.commercehub.gradle.plugin:gradle-avro-plugin:0.22.0&quot;
    classpath &quot;com.github.jengelman.gradle.plugins:shadow:4.0.2&quot;
  }
}

plugins {
  id &quot;java&quot;
  id &quot;com.google.cloud.tools.jib&quot; version &quot;3.1.1&quot;
}

sourceCompatibility = &quot;1.8&quot;
targetCompatibility = &quot;1.8&quot;
version = &quot;0.0.1&quot;

repositories {
  mavenCentral()


  maven {
    url &quot;https://packages.confluent.io/maven&quot;
  }
}

apply plugin: &quot;com.commercehub.gradle.plugin.avro&quot;
apply plugin: &quot;com.github.johnrengelman.shadow&quot;

dependencies {
  implementation &quot;org.apache.avro:avro:1.10.2&quot;
  implementation &quot;org.slf4j:slf4j-simple:1.7.30&quot;
  implementation &quot;org.apache.kafka:kafka-streams:2.7.0&quot;
  implementation &quot;io.confluent:kafka-streams-avro-serde:6.1.1&quot;
  testImplementation &quot;org.apache.kafka:kafka-streams-test-utils:2.7.0&quot;
  testImplementation &quot;junit:junit:4.13.2&quot;
}

test {
  testLogging {
    outputs.upToDateWhen { false }
    showStandardStreams = true
    exceptionFormat = &quot;full&quot;
  }
}

jar {
  manifest {
    attributes(
        &quot;Class-Path&quot;: configurations.compileClasspath.collect { it.getName() }.join(&quot; &quot;),
        &quot;Main-Class&quot;: &quot;org.example.kstreams.KStreamsExample&quot;
    )
  }
}

shadowJar {
  archiveBaseName = &quot;kstreams-example-standalone&quot;
  archiveClassifier = ''
}
</code></pre>

<p>Obtenemos el wrapper de Gradle:</p>

<pre><code class="language-shell">gradle wrapper
</code></pre>

<p>El siguiente paso será crear el fichero de properties con los parámetros de configuración del proyecto.</p>

<p>Creamos el directorio <strong>configuration</strong>:</p>

<pre><code class="language-shell">mkdir configuration
</code></pre>

<p>Dentro del directorio que acabamos de crear, añadiremos el fichero <strong>dev.properties</strong>:</p>

<pre><code class="language-properties">application.id=a1234.test.kstreams.example
bootstrap.servers=127.0.0.1:29092
acks=all
schema.registry.url=http://127.0.0.1:8081

input.topic.name=test.topic.kstreams.example
</code></pre>

<h2 id="esquema-avro">Esquema avro</h2>

<p>Creamos el directorio para el esquema de los mensajes en nuestro stream de eventos:</p>

<pre><code class="language-shell">mkdir -p src/main/avro
</code></pre>

<p>Dentro de este directorio, creamos el esquema <strong>message.avsc</strong>:</p>

<pre><code class="language-json">{
  &quot;namespace&quot;: &quot;org.example.kstreams.schema&quot;,
  &quot;type&quot;: &quot;record&quot;,
  &quot;name&quot;: &quot;Message&quot;,
  &quot;fields&quot;: [
    {&quot;name&quot;: &quot;number&quot;, &quot;type&quot;: &quot;int&quot;},
    {&quot;name&quot;: &quot;message&quot;, &quot;type&quot;: &quot;string&quot;}
  ]
}
</code></pre>

<p>Por último, dado que el esquema será utilizado desde código Java, construiremos el proyecto:</p>

<pre><code class="language-shell">./gradlew build
</code></pre>

<h2 id="crear-la-aplicación-kafka-streams">Crear la aplicación Kafka Streams</h2>

<p>Esta aplicación lee registros del tópico configurado en el fichero de properties, aplica un filtro sobre ellos y
muestra por la salida estándar los registros que cumplen el filtro.</p>

<p>Los criterios aplicados para filtar los registros son los siguientes:
- ID de aplicación:
  Filtramos registros cuya clave corresponda con el valor del application.id que hemos definido en nuestro fichero de properties.
  Esto nos permitirá tratar sólo los registros que generamos desde nuestro productor en caso de haber varias aplicaciones realizando pruebas simultáneamente.
- Elementos para los que el valor del campo <strong>number</strong> es par.</p>

<p>En primer lugar, desde la raíz del proyecto, crearemos el directorio que alojará el código fuente de la aplicación:</p>

<pre><code class="language-shell">mkdir -p src/java/org/example/kstreams
</code></pre>

<p>A continuación, creamos la clase <strong>KStreamsExample.java</strong>:</p>

<pre><code class="language-java">package org.example.kstreams;

import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.time.Duration;
import java.util.Map;
import java.util.Properties;
import java.util.concurrent.CountDownLatch;

import org.apache.kafka.common.serialization.Serdes;
import org.apache.kafka.streams.KafkaStreams;
import org.apache.kafka.streams.StreamsBuilder;
import org.apache.kafka.streams.StreamsConfig;
import org.apache.kafka.streams.Topology;
import org.apache.kafka.streams.kstream.Consumed;
import org.apache.kafka.streams.kstream.Printed;
import org.example.kstreams.schema.Message;

import io.confluent.common.utils.TestUtils;
import io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde;

public class KStreamsExample {

  private SpecificAvroSerde&lt;Message&gt; messageSerde(final Properties allProps) {
    final SpecificAvroSerde&lt;Message&gt; serde = new SpecificAvroSerde&lt;&gt;();
    Map&lt;String, String&gt; config = (Map)allProps;
    serde.configure(config, false);
    return serde;
  }

  public Topology buildTopology(Properties allProps,
                                final SpecificAvroSerde&lt;Message&gt; messageSerde) {
    final StreamsBuilder builder = new StreamsBuilder();

    final String applicationID = allProps.getProperty(&quot;application.id&quot;);
    final String inputTopic = allProps.getProperty(&quot;input.topic.name&quot;);

    builder.stream(inputTopic, Consumed.with(Serdes.String(), messageSerde))
        // The same topic is shared by multiple applications, so 
        // filter messages that correspond to our applicationID. 
        //
        // We also apply a filter to process only even numbers for demonstration purposes.
        .filter((recordKey, message) -&gt; applicationID.equals(recordKey) &amp;&amp; message.getNumber() % 2 == 0)
        .print(Printed.toSysOut());

    return builder.build();
  }

  public Properties loadEnvProperties(String fileName) throws IOException {
    Properties allProps = new Properties();
    try (FileInputStream input = new FileInputStream(fileName)) {
      allProps.load(input);
    }

    return allProps;
  }


  public static void main(String[] args) throws IOException {
    if (args.length &lt; 1) {
      throw new IllegalArgumentException(
          &quot;This program takes one argument: the path to an environment configuration file.&quot;);
    }

    new KStreamsExample().runRecipe(args[0]);
  }

  private void runRecipe(final String configPath) throws IOException {
    final Properties allProps = new Properties();
    try (InputStream inputStream = new FileInputStream(configPath)) {
      allProps.load(inputStream);
    }
    allProps.put(StreamsConfig.APPLICATION_ID_CONFIG, allProps.getProperty(&quot;application.id&quot;));
    allProps.put(StreamsConfig.STATE_DIR_CONFIG, TestUtils.tempDirectory().getPath());

    Topology topology = this.buildTopology(allProps, this.messageSerde(allProps));

    final KafkaStreams streams = new KafkaStreams(topology, allProps);
    final CountDownLatch latch = new CountDownLatch(1);

    // Attach shutdown handler to catch Control-C.
    Runtime.getRuntime().addShutdownHook(new Thread(&quot;streams-shutdown-hook&quot;) {
      @Override
      public void run() {
        streams.close(Duration.ofSeconds(5));
        latch.countDown();
      }
    });

    try {
      streams.start();
      latch.await();
    } catch (Throwable e) {
      System.exit(1);
    }
    System.exit(0);

  }
}
</code></pre>

<h2 id="crear-el-productor">Crear el Productor</h2>

<p>Ahora procederemos a crear el productor que se encargará de enviar registros al tópico.</p>

<p>Dentro del directorio <strong>src/java/org/example/kstreams</strong>, crearemos la clase <strong>ProducerExample.java</strong>:</p>

<pre><code class="language-java">package org.example.kstreams;

import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.Properties;

import org.apache.kafka.clients.producer.KafkaProducer;
import org.apache.kafka.clients.producer.ProducerConfig;
import org.apache.kafka.clients.producer.ProducerRecord;
import org.apache.kafka.common.serialization.StringSerializer;
import org.example.kstreams.schema.Message;

public class ProducerExample {

	public static void main(String[] args) throws IOException {
		if (args.length &lt; 1) {
			throw new IllegalArgumentException(
					&quot;This program takes one argument: the path to an environment configuration file.&quot;);
		}
		new ProducerExample().runProducer(args[0]);
	}

	public void runProducer(final String configPath) throws IOException {
    final Properties allProps = new Properties();
    try (InputStream inputStream = new FileInputStream(configPath)) {
      allProps.load(inputStream);
    }
		allProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);
		allProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, &quot;io.confluent.kafka.serializers.KafkaAvroSerializer&quot;);

    final String topic = allProps.getProperty(&quot;input.topic.name&quot;);
		final String applicationID = allProps.getProperty(&quot;application.id&quot;);

		KafkaProducer&lt;String, Message&gt; producer = new KafkaProducer&lt;&gt;(allProps);

		try {
			for (int i = 0; i &lt; 100; i++) {
				Message message = new Message(applicationID, &quot;Test message &quot; + i);
				ProducerRecord&lt;String, Message&gt; producerRecord = new ProducerRecord&lt;&gt;(topic, applicationID, message);

				producer.send(producerRecord);
			}
		} catch (Exception e) {
			e.printStackTrace();
		} finally {
			producer.close();
		}
	}
}
</code></pre>

<h2 id="compilar-y-ejecutar">Compilar y ejecutar</h2>

<p>Generaremos el jar de la aplicación mediante el comando:</p>

<pre><code class="language-shell">./gradlew shadowJar
</code></pre>

<p>Ejecutamos el entorno de Confluent Platform mediante docker:</p>

<pre><code class="language-shell">docker-compose up -d
</code></pre>

<p>Creamos el tópico sobre el que vamos a trabajar:</p>

<pre><code class="language-shell">docker exec -it broker kafka-topics --bootstrap-server broker:9092 \
  --topic test.topic.kstreams.example --create --partitions 1 --replication-factor 1
</code></pre>

<p>Lanzamos la aplicación de Kafka Streams:</p>

<pre><code class="language-shell">java -jar build/libs/kstreams-example-standalone-0.0.1.jar configuration/dev.properties
</code></pre>

<h2 id="producir-eventos-al-tópico-de-entrada">Producir eventos al tópico de entrada</h2>

<p>Para empezar a producir eventos en el tópico lanzaremos el productor:</p>

<pre><code class="language-shell">java -cp build/libs/kstreams-example-standalone-0.0.1.jar org.example.kstreams.ProducerExample configuration/dev.properties
</code></pre>

<h2 id="comprobar-ejecución-de-la-aplicación-kafka-streams">Comprobar ejecución de la aplicación Kafka Streams</h2>

<p>Podremos observar por la salida estándar los mensajes filtrados.</p>

<pre><code>[KSTREAM-FILTER-0000000001]: a1234.test.kstreams.example, {&quot;number&quot;: 0, &quot;message&quot;: &quot;Test message 0&quot;}
[KSTREAM-FILTER-0000000001]: a1234.test.kstreams.example, {&quot;number&quot;: 2, &quot;message&quot;: &quot;Test message 2&quot;}
[KSTREAM-FILTER-0000000001]: a1234.test.kstreams.example, {&quot;number&quot;: 4, &quot;message&quot;: &quot;Test message 4&quot;}
</code></pre>

<h2 id="ejecución-en-entorno-securizado">Ejecución en entorno securizado</h2>

<p>Deberemos crear un nuevo archivo de configuración con la información que se nos haya asignado para acceder al cluster.</p>

<p>Dentro del directorio <strong>configuration</strong>, añadiremos el fichero <strong>int.properties</strong>:</p>

<pre><code class="language-properties">application.id=&lt;ID de la aplicación&gt;
bootstrap.servers=&lt;Lista de brokers separados por comas&gt;
acks=all
ssl.truststore.location=&lt;Ruta al fichero truststore.jks&gt;
ssl.truststore.password=&lt;Password del truststore&gt;
ssl.keystore.location=&lt;Ruta al fichero keystore.jks&gt;
ssl.keystore.password=&lt;Password del keystore&gt;
ssl.key.password=&lt;Password de la clave privada&gt;
security.protocol=SSL
schema.registry.url=&lt;URL de Schema Registry&gt;
schema.registry.ssl.truststore.location=&lt;Ruta al fichero truststore.jks&gt;
schema.registry.ssl.truststore.password=&lt;Password del truststore&gt;
basic.auth.credentials.source=&lt;&gt;
basic.auth.user.info=&lt;&gt;

input.topic.name=&lt;Nombre del tópico de prueba&gt;
</code></pre>

<p>No será necesario crear el tópico en este caso, ya que estará creado de antemano en el entorno.</p>

<p>Lanzamos la aplicación de Kafka Streams con la nueva configuración:</p>

<pre><code class="language-shell">java -jar build/libs/kstreams-example-standalone-0.0.1.jar configuration/int.properties
</code></pre>

<p>Haremos lo mismo para el productor:</p>

<pre><code class="language-shell">java -cp build/libs/kstreams-example-standalone-0.0.1.jar org.example.kstreams.ProducerExample configuration/int.properties
</code></pre>

<h2 id="recursos-externos">Recursos externos</h2>

<ul>
<li><a href="https://docs.confluent.io/platform/current/build-applications.html">Desarrollo de aplicaciones Kafka</a></li>
<li><a href="https://kafka-tutorials.confluent.io/">Tutoriales de Kafka de Confluent</a></li>
<li><a href="https://docs.confluent.io/platform/current/security/general-overview.html">Seguridad en Confluent Platform</a></li>
</ul>


					

					
				</div>	

			</article>	


	</section>	

		<div class="fons_footer ">
		<footer class="container center-block shadowBox2">
			<div class="shadow2"></div>
			<div class="row footer_tab_ord">

				<div class="footer_tab_bot col-sm-12">
					<div class="avis_legal">

						<div id="fAvisLegal">
							<div>
								<div class="hidden-xs">
									<a href="https://www.gencat.cat"> <img
										src="/img/logo_generalitat_gris.png_679097835.png"
										width="101" height="27" alt="www.gencat.cat"
										/></a>
									<p>
										<a title="Avis legal" href="https://web.gencat.cat/ca/menu-ajuda/ajuda/avis_legal/" target="_self">Avís legal</a>: La &copy; Generalitat de Catalunya permet la reutilització dels continguts i de les dades sempre que se citi la font i la data d'actualització, que no es desnaturalitzi la informació i que no es contradigui amb una llicència específica.
									</p>
								</div>
								<div class="visible-xs avis_legal">
									<p>
										<a title="Avis legal" href="https://web.gencat.cat/ca/menu-ajuda/ajuda/avis_legal/" target="_self">Avís legal</a>: La &copy; Generalitat de Catalunya permet la reutilització dels continguts i de les dades sempre que se citi la font i la data d'actualització, que no es desnaturalitzi la informació i que no es contradigui amb una llicència específica.
									</p>
								</div>
								
								<div class="fi_peu visible-xs">
									<a title="www.gencat.cat" href="https://www.gencat.cat"> <img
										src="/img/logo_generalitat_gris.png_679097835.png"
										width="101" height="27" 
										alt="www.gencat.cat" /></a> <a class="torna_amunt pull-right"
										href=" javascript:tornarAmunt();" title="Torna amunt">
										<p>Torna amunt</p>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</footer>
	</div>

<script src="/js/master.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
<script src="/js/custom.js" type="text/javascript"></script>



<script type="text/javascript">

if(location.hostname!=="localhost"){

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', "UA-59408075-1", 'auto');
	ga('send', 'pageview', {
	  	'page': location.pathname + location.search  + location.hash
	  }
	);

}

</script>




</body>
</html>
