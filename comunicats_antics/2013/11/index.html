<!DOCTYPE html>
<html xml:lang="ca-ES" lang="ca-ES" xmlns="http://www.w3.org/1999/xhtml">
<head>

	<title>Comunicat de novembre de 2013</title>
		<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" />
	<link href="/css/master.min.css" rel="stylesheet" type="text/css" />
	<link href="/css/canigo.css" rel="stylesheet" type="text/css" />
	<script src="/js/jquery.min.js" type="text/javascript"></script>

	<script>
		document.write("<meta name=\"titol\" content=\"Comunicat de novembre de 2013\" />");
		document.write("<meta name=\"description\" content=\"\" />");
	</script>

	

</head>
<body class="single">
	<div class="contenidor unfixed">

				

		<header class="fons_header navbar navbar-default z-index-menu">
			<div class="container" role="menu">
				<div class="row clearfix menuNav">
					<div class="col-md-3 col-xs-3 column visible-xs coloca ">
						<button type="button" onclick="amunt();" title="Menu"
							class="navbar-toggle pull-left" data-toggle="collapse"
							data-target=".navbar-collapse">
							<span class="sr-only">Toggle navigation</span> <span
								class="icon-bar"></span> <span class="icon-bar"></span> <span
								class="icon-bar"></span>
						</button>
					</div>

					<div class="col-md-3 col-xs-6 col-offset-2 column visible-xs titol-mobil">
						
						<span class="white titol-mobil-destacat">canigo.ctti</span><span class="white">.gencat.cat</span>
					</div>

					<div class="col-md-3 col-xs-3 column visible-xs coloca1">
						<button onclick="amunt();" type="button" title="Cerca"
							class="ico_cerca " data-toggle="collapse" data-target=".dos">
						</button>
					</div>

				</div>

				<div class="collapse dos">
					<div class="shadowBox">
						<form class="navbar-form navbar-left primer" action="/cercador/" method="get"
 						onsubmit="location.href=this.action+'?q='+this.cerca_cap.value; return false;">
							<div class="form-group">
								<input type="search" class="form-control" name="q" id="cerca_cap"
									title="Cerca"
									placeholder="Cerca" />
								<button type="button" title="Neteja" class="btn btn-default"></button>
								<input type="submit" class="ocult" name="Cerca" value="Cerca" />
							</div>
						</form>
					</div>
				</div>	

				<nav class="collapse navbar-collapse navbar-ex1-collapse ">
				
					<div class="row">
						<div class="col-md-6 col-sm-4 column">
							<a class="img-responsive logo" title="Generalitat de Catalunya"
								href="https://ctti.gencat.cat/">gencat.cat</a>
							<button class="menu_tancar visible-xs collapsed"
								data-target=".navbar-collapse" data-toggle="collapse"
								title="Tancar"></button>
						</div>

						<div class="col-md-6 col-sm-8 column hidden-xs hidden-mg">
							<form class="navbar-form cercador_vermell hidden-xs pull-right" action="/cercador/"  method="get" onsubmit="location.href=this.action+'?q='+this.cerca2.value; return false;">
								<div class="form-group">
									<label class="hidden" for="cerca2">Cerca</label>
									<input id="cerca2" class="form-control" type="search" 
									placeholder="Cerca" name="q" title="Cerca">
									<input class="btn btn-default" type="submit" title="Cerca" value="">
								</div>
							</form>

							

						</div>

					</div>
					<div class="col-xs-12 hidden-xs" id="nomPortal">
                    	<span class="titol-cap-nou">Centre de Telecomunicacions i Tecnologies de la Informació</span>
                    </div>					
					<ul class="nav navbar-nav">

			        	

						<li>
							<a class="dropdown-toggle" href='/' data-toggle='_dropdown'>Inici</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/arqctti' data-toggle='_dropdown'>Arquitectura CTTI</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/blog' data-toggle='_dropdown'>Blog</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/cloud' data-toggle='_dropdown'>Cloud</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/canigo' data-toggle='_dropdown'>Canigó</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/sic' data-toggle='_dropdown'>SIC</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/sgde' data-toggle='_dropdown'>SGDE</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/gicar' data-toggle='_dropdown'>GICAR</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/cs' data-toggle='_dropdown'>Centres de Suport</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/dadesref' data-toggle='_dropdown'>Gestió Tècnica de Dades</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/eventhub' data-toggle='_dropdown'>EventHub</a>
						</li>

						

					</ul>

				</nav>
			</div>
		</header>



	</div>

	<section class="border-start">

						
			

			<article class="bgGrey">
				<div class="container">
					<div class="row">
						<div class="capcelera_basica col-sm-12">
							<div class="capcelera_basica_cont">
								<ol class="breadcrumb filariana hidden-xs">
									<li>
										<a href="/">Inici</a>
									</li>
									<li class="breadcrumbs2">
									
										<a href="/comunicats_antics">
											




























										</a>
										




























































































									
									</li>

								</ol>

								<h1 class="capcelera_flotant pull-left" data-txt=".title">
									

										
											




	Comunicat de novembre de 2013


										

									
								</h1>

								

								
								

								

								

							</div>
						</div>

					</div>
				</div>
			</article>

			


		   <div class="padding-xs container">
	    	
	    	   <i><b>Darrera actualització:</b></i> 05-11-2013
	        
           </div>
           
			<article class="padding-xs padding-sm padding-md contingut">				
				<div class="container">
 		
					
				

	


					

						

<h2 id="canigó-arquitectura-d-aplicacions-web-modernes">Canigó. Arquitectura d&rsquo;aplicacions web modernes</h2>

<p>En passats comunicats s&rsquo;ha introduït l&rsquo;arquitectura que des del CS Canigó s&rsquo;està proposant com a estratègia a futur. Aquesta arquitectura es basa en el desacoblament de client i servidor mitjançant la publicació de serveis REST, per part de servidor, i el seu consum amb Javascript, per part del client. En aquest comunicat es pretén anar una mica més enllà proporcionant un exemple pràctic d&rsquo;aquesta arquitectura</p>

<h2 id="exemple-d-arquitectura-amb-desacoblament-client-servidor">Exemple d&rsquo;arquitectura amb desacoblament client/servidor</h2>

<p>És possible tenir múltiples clients consumint els serveis que publica el servidor. Aquest és un exemple real desenvolupat al CS Canigó consistent en la publicació d&rsquo;un backend Canigó 3 a OpenShift i dos frontends, un CanigóMòbil i un altre Bootstrap+AngularJS, publicats a Dropbox. Podeu descarregar el codi font d&rsquo;aquesta aplicació.</p>

<h3 id="backend">Backend</h3>

<p>REST permet exposar mètodes dels objectes de negoci (BO - Business Objects) per ser consumits mitjançant diferents mètodes HTTP (GET, POST, PUT, DELETE). La publicació de serveis REST a Canigó 3 es realitza amb Spring MVC donat que Spring forma part del core de Canigó. A continuació especifiquem el contracte de l&rsquo;exemple que tractem en aquest comunicat, consistent en les operacions necessàries per poder realitzar el CRUD (Create-Read-Update-Delete) d&rsquo;una entitat Equipament:</p>

<table>
<thead>
<tr>
<th>Resource</th>
<th>POST (Create)</th>
<th>GET (Read)</th>
<th>PUT (Update)</th>
<th>DELETE (Delete)</th>
</tr>
</thead>

<tbody>
<tr>
<td>/equipaments</td>
<td>Crea nou equipament</td>
<td>Llista equipaments</td>
<td></td>
<td></td>
</tr>

<tr>
<td>/equipaments/32769</td>
<td>Error</td>
<td>Mostra equipament amb id &lsquo;32769&rsquo;</td>
<td>Si existeix actualitza equipament amb id &ldquo;32769.</td>
<td></td>
</tr>
</tbody>
</table>

<p>En cas contrari error   Elimina equipament amb id &lsquo;32769&rsquo;</p>

<p>L&rsquo;accés a aquests recursos pot protegir-se, per exemple en el cas de les operacions (Create, Update i Delete) que impliquen modificació de dades, amb autenticació bàsica (BASIC Authentication). El client haurà de proporcionar les credencials per poder accedir-hi. També és possible implementar altres mecanismes d&rsquo;autenticació com per exemple GICAR.</p>

<p>El format de les dades que intercanvien client i servidor és JSON (JavaScript Object Notation). Aquest és un format de dades molt lleuger i ràpid de processar per els navegadors. En cas que el client que consumeix aquestes dades estigui en un domini diferent al de servidor, caldrà utilitzar alguna tècnica que ho permeti degut a que els navegadors tenen restriccions de seguretat per evitar aquests accessos entre dominis.</p>

<h3 id="cross-domain">Cross-domain</h3>

<p>Els diferents tipus de peticions que es poden realitzar mitjançant HTTP tenen restriccions de seguretat implementades pels navegadors:</p>

<ul>
<li>GET: es poden fer des d’un domini A a un domini B sense restriccions de seguretat (utilitzant el mètode GET en formularis HTML o JSONP des de javascript)</li>
<li>POST: les peticions POST també es poden fer entre dominis</li>
<li>PUT/DELETE: requereixen que les capçaleres que permeten fer peticions entre dominis estiguin habilitades al servidors web (CORS)</li>
</ul>

<p>És possible salvar les restriccions de seguretat que incorporen els navegadors actuals mitjançant CORS (Cross-origin resource sharing). Aquesta tècnica consisteix en l&rsquo;intercanvi d&rsquo;una sèrie de capçaleres HTTP (Access-Control-*) entre client i servidor negociant aquest accés. En cas necessari, el client també és capaç d&rsquo;enviar credencials per l&rsquo;autenticació si el servidor ho requereix. En l&rsquo;exemple que es tracta en aquest comunicat s&rsquo;ha configurat CORS en el servidor i autenticació bàsica per els mètodes POST, PUT i DELETE. El fet que el backend estigui a OpenShift i els clients a Dropbox demostra que es poden tenir aplicacions en diferents dominis, tot i que el més habitual és que es trobin en el mateix domini sense necessitat de realitzar cross-domain.</p>

<h3 id="frontend">Frontend</h3>

<p>En aquest exemple d&rsquo;arquitectura moderna es proporcionen dues variants d&rsquo;aplicació client basades en HTML i JS, una Canigó Mòbil amb JQuery Mobile i estils corporatius com a principals característiques, i una altre Bootstrap+AngularJS. Es pot accedir a aquestes aplicacions de demo a través dels següents enllaços:</p>

<ul>
<li>Aplicació client Canigó Mobile: exemple de llistat d&rsquo;equipaments. Únicament utilitza el mètode GET per obtenir les dades (no requereix CORS).</li>
<li>Aplicació client Bootstrap+AngularJS: exemple de CRUD d&rsquo;equipaments. Utilitza els mètodes POST, GET, PUT i DELETE per interactuar amb servidor (requereix CORS).</li>
</ul>

<p>S&rsquo;envien credencials per els mètodes POST, PUT i DELETE donat que estan protegits amb autenticació bàsica.
Mitjançant Bootstrap és possible fer un disseny responsiu (Responsive Web Design), fet que permet adaptar el lloc web a l&rsquo;entorn de l&rsquo;usuari. Per aconseguir-ho es basa en l&rsquo;ús d&rsquo;estructures, imatges fluides, i media-queries en la fulla d&rsquo;estil CSS. Per altra banda, AngularJS és un framework Javascript que facilita el desenvolupament d&rsquo;aplicacions web. Aquest segon client, Bootstrap+AngularJS, és un exemple que segueix les tecnologies HTML5 i CSS3, present i futur de les aplicacions web.</p>

<p>Destacar que el desacoblament entre client i servidor permet que dos equips de desenvolupament puguin treballar de forma independent. Únicament cal definir el contracte del servei REST. En una arquitectura on no existeix aquest grau de desacoblament cal incorporar el prototip que dissenya l&rsquo;equip de frontal a les plantilles de servidor (Ex. Facelets a Canigó 3 o Apache Tiles a Canigó 2).</p>

<p>Per aquest comunicat hem redactat un HowTo on expliquem amb més detall com s&rsquo;ha desenvolupat aquest exemple d&rsquo;arquitectura moderna.</p>

<h2 id="notícies">Notícies</h2>

<ul>
<li>Desplegaments automatitzats a Tomcat 7 i Weblogic 12c</li>
</ul>

<p>Seguint amb la certificació dels serveis que s&rsquo;ofereixen des del CS Canigó als nous servidors del Full de ruta de CTTI, s&rsquo;ha realitzat la tasca de certificació de desplegaments automatitzats des del SIC als servidors Tomcat 7 i Weblogic 12c.</p>

<p>Al Manual d&rsquo;Integració es pot trobar la informació per sol·licitar dins l&rsquo;alta d&rsquo;una aplicació al SIC desplegaments automatitzats en entorns d&rsquo;Integració sobre aquests servidors.</p>


					

					
				</div>	

			</article>	


	</section>	

		<div class="fons_footer ">
		<footer class="container center-block shadowBox2">
			<div class="shadow2"></div>
			<div class="row footer_tab_ord">

				<div class="footer_tab_bot col-sm-12">
					<div class="avis_legal">

						<div id="fAvisLegal">
							<div>
								<div class="hidden-xs">
									<a href="https://www.gencat.cat"> <img
										src="/img/logo_generalitat_gris.png_679097835.png"
										width="101" height="27" alt="www.gencat.cat"
										/></a>
									<p>
										<a title="Avis legal" href="https://web.gencat.cat/ca/menu-ajuda/ajuda/avis_legal/" target="_self">Avís legal</a>: La &copy; Generalitat de Catalunya permet la reutilització dels continguts i de les dades sempre que se citi la font i la data d'actualització, que no es desnaturalitzi la informació i que no es contradigui amb una llicència específica.
									</p>
								</div>
								<div class="visible-xs avis_legal">
									<p>
										<a title="Avis legal" href="https://web.gencat.cat/ca/menu-ajuda/ajuda/avis_legal/" target="_self">Avís legal</a>: La &copy; Generalitat de Catalunya permet la reutilització dels continguts i de les dades sempre que se citi la font i la data d'actualització, que no es desnaturalitzi la informació i que no es contradigui amb una llicència específica.
									</p>
								</div>
								
								<div class="fi_peu visible-xs">
									<a title="www.gencat.cat" href="https://www.gencat.cat"> <img
										src="/img/logo_generalitat_gris.png_679097835.png"
										width="101" height="27" 
										alt="www.gencat.cat" /></a> <a class="torna_amunt pull-right"
										href=" javascript:tornarAmunt();" title="Torna amunt">
										<p>Torna amunt</p>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</footer>
	</div>

<script src="/js/master.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
<script src="/js/custom.js" type="text/javascript"></script>



<script type="text/javascript">

if(location.hostname!=="localhost"){

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', "UA-59408075-1", 'auto');
	ga('send', 'pageview', {
	  	'page': location.pathname + location.search  + location.hash
	  }
	);

}

</script>




</body>
</html>
