<!DOCTYPE html>
<html xml:lang="ca-ES" lang="ca-ES" xmlns="http://www.w3.org/1999/xhtml">
<head>

	<title>STD. Actualització tecnològica del servei</title>
		<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" />
	<link href="/css/master.min.css" rel="stylesheet" type="text/css" />
	<link href="/css/canigo.css" rel="stylesheet" type="text/css" />
	<script src="/js/jquery.min.js" type="text/javascript"></script>

	<script>
		document.write("<meta name=\"titol\" content=\"STD. Actualització tecnològica del servei\" />");
		document.write("<meta name=\"description\" content=\"L\x27últim trimestre del 2018 es va iniciar un projecte d\x27actualització tecnològica del STD (Servei de Transformació de Documents) que està previst que finalitzi a l\x27Abril. També es realitza una rearquitectura per tal de millorar l\x27aïllament de les diferents funcionalitats que es proporcionen i la seva escalabilitat. STD és el principal servei en el qual es recolza eCopia, servei de còpia autèntica de documents corporatiu de la Generalitat\" />");
	</script>

	

</head>
<body class="single">
	<div class="contenidor unfixed">

				

		<header class="fons_header navbar navbar-default z-index-menu">
			<div class="container" role="menu">
				<div class="row clearfix menuNav">
					<div class="col-md-3 col-xs-3 column visible-xs coloca ">
						<button type="button" onclick="amunt();" title="Menu"
							class="navbar-toggle pull-left" data-toggle="collapse"
							data-target=".navbar-collapse">
							<span class="sr-only">Toggle navigation</span> <span
								class="icon-bar"></span> <span class="icon-bar"></span> <span
								class="icon-bar"></span>
						</button>
					</div>

					<div class="col-md-3 col-xs-6 col-offset-2 column visible-xs titol-mobil">
						
						<span class="white titol-mobil-destacat">canigo.ctti</span><span class="white">.gencat.cat</span>
					</div>

					<div class="col-md-3 col-xs-3 column visible-xs coloca1">
						<button onclick="amunt();" type="button" title="Cerca"
							class="ico_cerca " data-toggle="collapse" data-target=".dos">
						</button>
					</div>

				</div>

				<div class="collapse dos">
					<div class="shadowBox">
						<form class="navbar-form navbar-left primer" action="/cercador/" method="get"
 						onsubmit="location.href=this.action+'?q='+this.cerca_cap.value; return false;">
							<div class="form-group">
								<input type="search" class="form-control" name="q" id="cerca_cap"
									title="Cerca"
									placeholder="Cerca" />
								<button type="button" title="Neteja" class="btn btn-default"></button>
								<input type="submit" class="ocult" name="Cerca" value="Cerca" />
							</div>
						</form>
					</div>
				</div>	

				<nav class="collapse navbar-collapse navbar-ex1-collapse ">
				
					<div class="row">
						<div class="col-md-6 col-sm-4 column">
							<a class="img-responsive logo" title="Generalitat de Catalunya"
								href="https://ctti.gencat.cat/">gencat.cat</a>
							<button class="menu_tancar visible-xs collapsed"
								data-target=".navbar-collapse" data-toggle="collapse"
								title="Tancar"></button>
						</div>

						<div class="col-md-6 col-sm-8 column hidden-xs hidden-mg">
							<form class="navbar-form cercador_vermell hidden-xs pull-right" action="/cercador/"  method="get" onsubmit="location.href=this.action+'?q='+this.cerca2.value; return false;">
								<div class="form-group">
									<label class="hidden" for="cerca2">Cerca</label>
									<input id="cerca2" class="form-control" type="search" 
									placeholder="Cerca" name="q" title="Cerca">
									<input class="btn btn-default" type="submit" title="Cerca" value="">
								</div>
							</form>

							

						</div>

					</div>
					<div class="col-xs-12 hidden-xs" id="nomPortal">
                    	<span class="titol-cap-nou">Centre de Telecomunicacions i Tecnologies de la Informació</span>
                    </div>					
					<ul class="nav navbar-nav">

			        	

						<li>
							<a class="dropdown-toggle" href='/' data-toggle='_dropdown'>Inici</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/arqctti' data-toggle='_dropdown'>Arquitectura CTTI</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/blog' data-toggle='_dropdown'>Blog</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/cloud' data-toggle='_dropdown'>Cloud</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/canigo' data-toggle='_dropdown'>Canigó</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/sic' data-toggle='_dropdown'>SIC</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/sgde' data-toggle='_dropdown'>SGDE</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/gicar' data-toggle='_dropdown'>GICAR</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/cs' data-toggle='_dropdown'>Centres de Suport</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/dadesref' data-toggle='_dropdown'>Gestió Tècnica de Dades</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/eventhub' data-toggle='_dropdown'>EventHub</a>
						</li>

						

					</ul>

				</nav>
			</div>
		</header>



	</div>

	<section class="border-start">

						
			

			<article class="bgGrey">
				<div class="container">
					<div class="row">
						<div class="capcelera_basica col-sm-12">
							<div class="capcelera_basica_cont">
								<ol class="breadcrumb filariana hidden-xs">
									<li>
										<a href="/">Inici</a>
									</li>
									<li class="breadcrumbs2">
									
										<a href="/noticies">
											









	Notícies




















										</a>
										




























































































									
									</li>

								</ol>

								<h1 class="capcelera_flotant pull-left" data-txt=".title">
									

										
											




	STD. Actualització tecnològica del servei


										

									
								</h1>

								
									<br />
									20-02-2019
								

								
								

								

								

							</div>
						</div>

					</div>
				</div>
			</article>

			


		   <div class="padding-xs container">
	    	
	    	   <i><b>Darrera actualització:</b></i> 20-02-2019
	        
           </div>
           
			<article class="padding-xs padding-sm padding-md contingut">				
				<div class="container">
 		
					
				

	


					

						

<p>L&rsquo;últim trimestre del 2018 es va iniciar un projecte d&rsquo;<strong>actualització tecnològica del servei STD (Servei de Transformació de Documents)</strong> que està previst que finalitzi a l&rsquo;Abril. També es realitza una <strong>rearquitectura</strong> del servei per tal de millorar l&rsquo;aïllament de les diferents funcionalitats que es proporcionen i la seva escalabilitat. STD és el principal servei en el qual es recolza eCopia, servei de còpia autèntica de documents corporatiu de la Generalitat.</p>

<p>Abans d&rsquo;entrar en detall dels canvis que es realitzaran en aquest projecte, fem un recordatori de les diferents funcionalitats que ofereix el servei STD:</p>

<ul>
<li>Creació de codis segurs de verificació (<strong>CSV</strong>) per a la identificació i registre de documents</li>
<li><strong>Composició</strong> de documents PDF, consistent en la fusió de plantilles que contenen una sèrie de tags especials
amb informació sobre les dades a inserir en els documents originals</li>
<li><strong>Conversió</strong> de diferents formats ofimàtics a PDF</li>
<li><strong>OCR</strong> (Optical Character Recognition) per obtenir el text d’una imatge i generació de PDFs cercables</li>
</ul>

<h2 id="rearquitectura">Rearquitectura</h2>

<p>Tota la capa d&rsquo;aplicació del servei STD es mou de VM a contenidors <a href="https://canigo.ctti.gencat.cat/cloud/cataleg/#contenidors-docker"><strong>Docker</strong></a> a la plataforma <a href="https://canigo.ctti.gencat.cat/cloud-caas/contenidors_appagile/"><strong>AppAgile</strong></a>. Només el servei de conversió de documents ofimàtics MS Office a PDF requereix d&rsquo;un entorn Windows aprovisionat en VMs a CPD.</p>

<p><img src="/images/news/std2-arquitectura.PNG" alt="std2-arquitectura" /></p>

<p>Gràcies a aquesta rearquitectura és possible <strong>escalar</strong> els diferents serveis per separat dependent del seu consum, a més d&rsquo;estar <strong>aïllats</strong>, motiu pel qual un problema en un dels serveis no afectarà la resta. Tot el cicle de vida (desenvolupament, construcció, tests, versionat, desplegament) de cada servei és independent dels altres, podent ser evolucionats per separat.</p>

<p>Totes les funcionalitats del STD avui dia són exposades mitjançant serveis <strong>SOAP</strong>. Un cop finalitzat aquest projecte d&rsquo;actualització tecnològica, a més de mantenir aquests serveis per compatibilitat amb els consumidors existents, s&rsquo;exposarà una nova <strong>API REST</strong>. Aquesta és la línia que s&rsquo;evolucionarà a futur i a la qual es recomana que les aplicacions noves s&rsquo;integrin, i les existents vagin migrant. La documentació per l&rsquo;ús d&rsquo;aquesta nova API REST està disponible al <a href="/related/sgde/CSCanigo.MU.P00.E01_manual_usuari_STD2_1.2.pdf">Manual d&rsquo;Usuari STD versió 2</a> del servei.</p>

<h3 id="sondes">Sondes</h3>

<p>Els contenidors desplegats a AppAgile tenen configurades sondes per garantir la disponibilitat del servei. En aquest comunicat s&rsquo;inclou un <a href="https://canigo.ctti.gencat.cat/howtos/2019-03-HowTo-Definicio-sondes-aplicacions-Canigo-AppAgile/">how-to</a> on s&rsquo;explica com es poden configurar aquestes sondes en aplicacions Canigó 3.2.</p>

<h2 id="actualització-tecnològica">Actualització tecnològica</h2>

<p>A continuació es detalla les actualitzacions de versions i canvis de productes més rellevants:</p>

<ul>
<li>Tots els serveis es basen en <a href="https://canigo.ctti.gencat.cat/canigo/"><strong>Canigó</strong></a>, i s&rsquo;actualitzen a la versió <a href="https://canigo.ctti.gencat.cat/canigo/roadmap/">3.2.7</a></li>
<li>Es canvia l&rsquo;engine de conversió de MS Office a PDF, passant de <a href="http://www.j-interop.org/">J-Interop</a> a <a href="https://documents4j.com/"><strong>documents4j</strong></a></li>
<li>S&rsquo;actualitza la versió de <strong>MS Office</strong> de 2010 a 2016</li>
<li>S&rsquo;actualitza OpenOffice 4.0.1 a <strong>LibreOffice</strong> 5.4.5.1</li>
<li>S&rsquo;actualitza la versió de <a href="https://opensource.google.com/projects/tesseract"><strong>Tesseract</strong></a>, engine OCR, de 3.02.02 a 3.05.02</li>
<li>S&rsquo;actualitzen les versions de les llibreries de tractament de documents PDF (PDFBox, iText) així com d&rsquo;altres d&rsquo;ús intern dels diferents serveis</li>
</ul>

<h2 id="impacte-en-integradors">Impacte en integradors</h2>

<p>El canvi tecnològic s&rsquo;ha realitzat tenint en compte que l&rsquo;impacte en els consumidors actuals sigui mínim. És per aquest motiu que es mantindran intactes les URLs actuals d&rsquo;accés al servei SOAP:</p>

<p><strong>WS SOAP</strong></p>

<ul>
<li><em>PRE</em>: <code>http://preproduccio.sgde.intranet.gencat.cat/ServeisInvocacioSTD/services/ServeisSTD&lt;V2&gt;?wsdl</code></li>
<li><em>PRO</em>: <code>http://sgde.intranet.gencat.cat/ServeisInvocacioSTD/services/ServeisSTD&lt;V2&gt;?wsdl</code></li>
</ul>

<p>*L&rsquo;antic domini de PRE &ldquo;sgde.pre.intranet.gencat.cat&rdquo; també seguirà funcionant com fins ara</p>

<p>També l&rsquo;accés SFTP:</p>

<p><strong>SFTP</strong></p>

<ul>
<li><em>PRE</em>: <code>sftp &lt;usuari-app&gt;@preproduccio.sftp.sgde.intranet.gencat.cat</code></li>
<li><em>PRO</em>: <code>sftp &lt;usuari-app&gt;@sftp.sgde.intranet.gencat.cat</code></li>
</ul>

<p>*L&rsquo;antic domini de PRE &ldquo;sftp.sgde.pre.intranet.gencat.cat&rdquo; també seguirà funcionant com fins ara</p>

<p>A més dels dominis existents, es donaran d&rsquo;alta nous dominis dedicats al STD, en el cas de l&rsquo;accés http amb la possibilitat de fer-ho per SSL:</p>

<p><strong>WS SOAP (NOU!)</strong></p>

<ul>
<li><em>PRE</em>: <code>https://preproduccio.std.intranet.gencat.cat/ServeisInvocacioSTD/services/ServeisSTD&lt;V2&gt;?wsdl</code></li>
<li><em>PRO</em>: <code>https://std.intranet.gencat.cat/ServeisInvocacioSTD/services/ServeisSTD&lt;V2&gt;?wsdl</code></li>
</ul>

<p><strong>SFTP (NOU!)</strong></p>

<ul>
<li><em>PRE</em>: <code>sftp &lt;usuari-app&gt;@preproduccio.sftp.std.intranet.gencat.cat</code></li>
<li><em>PRO</em>: <code>sftp &lt;usuari-app&gt;@sftp.std.intranet.gencat.cat</code></li>
</ul>

<p><br />
Aviat s&rsquo;informarà, tant en aquest portal com mitjançant comunicats destinats als integradors, la data de disponibilitat del nou entorn de Preproducció així com del període de proves abans no es posi en servei el nou entorn de Producció.</p>

<p><br />
Per qualsevol dubte referent a aquest projecte de transformació tecnològica us podeu posar en contacte amb el CS Canigó obrint una petició de consulta o suport al servei <a href="https://cstd.ctti.gencat.cat/jiracstd/projects/STF">STF</a> del CSTD, o bé enviant un correu a <a href="mailto:oficina-tecnica.canigo.ctti@gencat.cat">oficina-tecnica.canigo.ctti@gencat.cat</a></p>


					

					
				</div>	

			</article>	


	</section>	

		<div class="fons_footer ">
		<footer class="container center-block shadowBox2">
			<div class="shadow2"></div>
			<div class="row footer_tab_ord">

				<div class="footer_tab_bot col-sm-12">
					<div class="avis_legal">

						<div id="fAvisLegal">
							<div>
								<div class="hidden-xs">
									<a href="https://www.gencat.cat"> <img
										src="/img/logo_generalitat_gris.png_679097835.png"
										width="101" height="27" alt="www.gencat.cat"
										/></a>
									<p>
										<a title="Avis legal" href="https://web.gencat.cat/ca/menu-ajuda/ajuda/avis_legal/" target="_self">Avís legal</a>: La &copy; Generalitat de Catalunya permet la reutilització dels continguts i de les dades sempre que se citi la font i la data d'actualització, que no es desnaturalitzi la informació i que no es contradigui amb una llicència específica.
									</p>
								</div>
								<div class="visible-xs avis_legal">
									<p>
										<a title="Avis legal" href="https://web.gencat.cat/ca/menu-ajuda/ajuda/avis_legal/" target="_self">Avís legal</a>: La &copy; Generalitat de Catalunya permet la reutilització dels continguts i de les dades sempre que se citi la font i la data d'actualització, que no es desnaturalitzi la informació i que no es contradigui amb una llicència específica.
									</p>
								</div>
								
								<div class="fi_peu visible-xs">
									<a title="www.gencat.cat" href="https://www.gencat.cat"> <img
										src="/img/logo_generalitat_gris.png_679097835.png"
										width="101" height="27" 
										alt="www.gencat.cat" /></a> <a class="torna_amunt pull-right"
										href=" javascript:tornarAmunt();" title="Torna amunt">
										<p>Torna amunt</p>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</footer>
	</div>

<script src="/js/master.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
<script src="/js/custom.js" type="text/javascript"></script>



<script type="text/javascript">

if(location.hostname!=="localhost"){

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', "UA-59408075-1", 'auto');
	ga('send', 'pageview', {
	  	'page': location.pathname + location.search  + location.hash
	  }
	);

}

</script>




</body>
</html>
